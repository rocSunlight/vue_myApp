webpackJsonp([9],{"41jc":function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a("Dd8w"),n=i(o),r=a("Xxa5"),s=i(r),d=a("exGp"),l=i(d),v=a("//Fk"),c=i(v),u=a("NYxO");t.default={data:function(){return{pageindex:1}},created:function(){this.$store.dispatch("getVideoList",{pageindex:this.pageindex})},methods:{loadingMore:function(){var e=this;return new c.default(function(){var t=(0,l.default)(s.default.mark(function t(a,i){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.pageindex++,t.next=3,e.$store.dispatch("getVideoList",{pageindex:e.pageindex});case 3:a();case 4:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}())},play:function(e,t){t.playBol=!0,this.$set(this.videoList,e,t),this.dragVideo(e)},pause:function(e,t){document.querySelectorAll("video")[e].pause(),t.playBol=!1,this.$set(this.videoList,e,t)},dragVideo:function(e){var t=document.querySelectorAll("video")[e],a=document.querySelectorAll("canvas")[e].getContext("2d");t.play();document.querySelectorAll(".video")[e].clientWidth,document.querySelectorAll(".video")[e].clientHeight;t.addEventListener("play",function(){setInterval(function(){a.drawImage(t,0,0,320,176)},1e3/30)})}},computed:(0,n.default)({},(0,u.mapGetters)(["videoList","videoLoading","videoEnd"]))}},"9gzO":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("article",{directives:[{name:"scroll",rawName:"v-scroll",value:e.loadingMore,expression:"loadingMore"}],staticClass:"video-wrapper"},[a("div",{staticClass:"video-container"},e._l(e.videoList,function(t,i){return a("section",{staticClass:"item border-half-bottom"},[a("div",{staticClass:"video"},[a("video",{attrs:{src:t.video}}),e._v(" "),a("div",{staticClass:"canvas-video bg-cover",style:{backgroundImage:"url("+t.images+")"}},[a("canvas",{on:{click:function(a){e.pause(i,t)}}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.playBol,expression:"!item.playBol"}],staticClass:"title"},[a("h4",[e._v(e._s(t.title))]),e._v(" "),a("small",[e._v(e._s(t.video_num)+"次播放")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.playBol,expression:"!item.playBol"}],staticClass:"play",on:{click:function(a){e.play(i,t)}}},[a("Icon",{attrs:{name:"play"}})],1),e._v(" "),a("time",{directives:[{name:"show",rawName:"v-show",value:!t.playBol,expression:"!item.playBol"}]},[e._v(e._s(t.time))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.playBol,expression:"!item.playBol"}],staticClass:"avatar bg-cover-all",style:{backgroundImage:"url("+t.image+")"}})]),e._v(" "),a("div",{staticClass:"intro df-sb"},[a("div",{staticClass:"source"},[e._v(e._s(t.source))]),e._v(" "),a("div",{staticClass:"box df-c"},[a("div",{on:{click:function(e){t.attention=!t.attention}}},[t.attention?a("div",[e._v("已关注")]):a("div",[a("Icon",{attrs:{name:"attention"}}),e._v(" "),a("span",[e._v("关注")])],1)]),e._v(" "),a("div",[a("Icon",{attrs:{name:"custom-comment"}}),e._v(" "),a("span",[e._v(e._s(t.comment_num||"评论"))])],1),e._v(" "),a("div",[a("Icon",{attrs:{name:"More"}})],1)])])])})),e._v(" "),a("DefaultLoading",{directives:[{name:"show",rawName:"v-show",value:e.videoLoading,expression:"videoLoading"}]}),e._v(" "),e.videoEnd?a("NoneData"):e._e()],1)},o=[],n={render:i,staticRenderFns:o};t.a=n},OCpm:function(e,t,a){"use strict";function i(e){a("V/hG")}Object.defineProperty(t,"__esModule",{value:!0});var o=a("41jc"),n=a.n(o);for(var r in o)"default"!==r&&function(e){a.d(t,e,function(){return o[e]})}(r);var s=a("9gzO"),d=a("VU/8"),l=i,v=d(n.a,s.a,!1,l,"data-v-bebb40a0",null);t.default=v.exports},UdAS:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".video-wrapper[data-v-bebb40a0]{overflow-y:scroll}.item[data-v-bebb40a0]{padding:.1rem 0}.item .video[data-v-bebb40a0]{width:100%;height:2rem;background-color:#000;position:relative}.item .video video[data-v-bebb40a0]{width:100%;display:none;height:100%}.item .video .canvas-video[data-v-bebb40a0]{width:100%;height:100%;position:absolute;left:0;top:0}.item .video .canvas-video canvas[data-v-bebb40a0]{width:100%;height:100%}.item .video .play[data-v-bebb40a0]{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-color:rgba(0,0,0,.3);border-radius:50%;z-index:3}.item .video .play svg[data-v-bebb40a0]{color:#fff;font-size:.4rem}.item .video .title[data-v-bebb40a0]{position:absolute;left:0;top:0;line-height:.2rem;width:100%;color:#f4f4f4;padding:.04rem .1rem;background:linear-gradient(top,rgba(0,0,0,.45),transparent 100%);background:-webkit-linear-gradient(top,rgba(0,0,0,.45),transparent 100%)}.item .video .title small[data-v-bebb40a0]{font-size:.12rem}.item .video time[data-v-bebb40a0]{position:absolute;right:.1rem;bottom:.1rem;font-size:.1rem;padding:.04rem .08rem;border-radius:.06rem;background-color:rgba(0,0,0,.5);color:#f4f4f4}.item .video .avatar[data-v-bebb40a0]{width:.4rem;height:.4rem;border-radius:50%;position:absolute;bottom:-.1rem;left:.2rem}.item .intro[data-v-bebb40a0]{margin-top:.1rem;padding:0 .1rem}.item .intro .source[data-v-bebb40a0]{font-size:.14rem}.item .intro .box>[data-v-bebb40a0]{margin-left:.14rem;font-size:.12rem;color:#666}",""])},"V/hG":function(e,t,a){var i=a("UdAS");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("beeb43be",i,!0,{})}});